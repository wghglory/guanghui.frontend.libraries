<!DOCTYPE HTML>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>手风琴</title>
    <style>
		body,ul{margin:0;padding:0;}
		li{ list-style:none;}
		img{ border:none; vertical-align:top; }

		#box{width:470px;height:150px; position:relative; margin:30px auto; overflow:hidden;}
		ul{ width:470px; position:absolute;left:0; top:0; z-index:1;}
		ul li{width:470px; position:absolute; top:0;}  /*定位*/
    </style>
</head>

<body>
    <div id="box">
        <ul>
            <li><img src="images/1.jpg" alt="" /></li>
            <li><img src="images/2.jpg" alt="" /></li>
            <li><img src="images/3.jpg" alt="" /></li>
            <li><img src="images/4.jpg" alt="" /></li>
            <li><img src="images/5.jpg" alt="" /></li>
        </ul>
    </div>
    <script type="text/javascript" src="move.js"></script>
    <script>
        var oUl = document.getElementsByTagName('ul')[0];
        var aLiUl = oUl.getElementsByTagName('li');

        var num = Math.ceil(470 / aLiUl.length); //每张图片等分宽度

        // 等分图片
        for (var i = 0; i < aLiUl.length; i++) {
            aLiUl[i].style.left = num * i + 'px';
        }

        for (var i = 0; i < aLiUl.length; i++) {
            aLiUl[i].index = i;
            aLiUl[i].onmouseover = function() {

                for (var i = 0; i < aLiUl.length; i++) {
                    if (i <= this.index) {
                        startMove(aLiUl[i], {
                            left: i * 30
                        });
                    } else {
                        startMove(aLiUl[i], {
                            left: 470 + (i - 5) * 30
                        });
                    }
                }

            };

            aLiUl[i].onmouseout = function() {
                for (var i = 0; i < aLiUl.length; i++) {
                    startMove(aLiUl[i], {
                        left: num * i
                    });
                }
            };
        }
    </script>
</body>

</html>
